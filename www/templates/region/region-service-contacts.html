<ion-view title="Service Contacts">
  <ion-content>
    <my-app-message info="appMessage"></my-app-message>
    <my-app-message info="controllerMessage"></my-app-message>  
 	<div class="item item-divider" ng-if="personalServiceContacts.length>0">
		Community Recommendations
	</div>
    <ion-list ng-if="personalServiceContacts">
	    <ion-item ng-repeat="serviceContact in personalServiceContacts" class="item-icon-right" href="#/tab/service-contact-detail/{{serviceContact.id}}">
	      <h2>{{serviceContact.get('serviceName')}}</h2>
	      <p ng-if="serviceContact.get('type')!='Other'">{{serviceContact.get('type')}}</p>
	      <p ng-if="serviceContact.get('type')=='Other'">{{serviceContact.get('otherCategoryName')}}</p>
	      <p>{{serviceContact.get('servicePhoneNumber')}}</p>
	      <i class="icon ion-chevron-right icon-accessory"></i>	      	      	      	      
	    </ion-item>
    </ion-list>
	<div class="card">
	  <div class="item item-text-wrap success"> 
	    Have you received a good service recently?<br><br>
	    <a class="button button-calm button-block" ng-click="gotoAddServiceContact()">Recommend Service</a>
	  </div>
	</div>    	      
    <ion-list ng-repeat="region in regions track by $index" ng-init="regionIndex = $index">
	    <div class="item item-divider" ng-if="region.get('serviceContactList').length">
	    	{{region.get("name")}}
	    </div>
	    <ion-item ng-repeat="serviceContact in region.get('serviceContactList')" ng-init="serviceContactIndex = $index">
	      <h2>{{serviceContact.name}}</h2>
	      <p ng-if="serviceContact.type">{{serviceContact.type}}</p>
		    <p ng-if="serviceContact.phoneNumberList">
			    <i class="icon ion-iphone"></i>
			    <span ng-repeat="phNo in serviceContact.phoneNumberList">
			    	{{phNo}} {{$last ? '' : ', '}}
			    </span>
		    </p>	      
	    </ion-item>
    </ion-list>
  </ion-content>
</ion-view>